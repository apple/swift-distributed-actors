{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"LeaderElection"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Leaders can be useful to reduce the overhead and number of message round trips when making"},{"type":"text","text":" "},{"type":"text","text":"a decision involving many peers. For example, rather than have many actors vote on what we"},{"type":"text","text":" "},{"type":"text","text":"should have for lunch, we can elect a leader of the group and have it decide today’s lunch plan."},{"type":"text","text":" "},{"type":"text","text":"It may remain the leader for an extended period of time, making selecting what to have for lunch"},{"type":"text","text":" "},{"type":"text","text":"always a coordination-free decision. We trust that the leader always makes this decision for us."},{"type":"text","text":" "},{"type":"text","text":"If the leader were to terminate, we could elect another one."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Implementations strategies can vary intensely and may or may not need to coordinate"},{"type":"text","text":" "},{"type":"text","text":"between nodes for coming up with an election result. See the documentation of a specific"},{"type":"text","text":" "},{"type":"text","text":"implementation for exact semantics and guarantees."}]},{"anchor":"Failure-detection","level":3,"type":"heading","text":"Failure detection"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Leader election by itself does not implement detecting failures. It is only tasked to select a member"},{"type":"text","text":" "},{"type":"text","text":"among the provided membership to fill the role of the leader. Failure detection is however crucial to knowing "},{"type":"emphasis","inlineContent":[{"type":"text","text":"when"}]},{"type":"text","text":" "},{"type":"text","text":"to trigger an election, and this is handled by "},{"type":"codeVoice","code":"SWIM"},{"type":"text","text":", which may detect a node to be unreachable or down, in reaction"},{"type":"text","text":" "},{"type":"text","text":"to which the leader election will be run again."}]},{"anchor":"Split-brain-and-multiple-leaders","level":3,"type":"heading","text":"Split-brain and multiple leaders"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Be aware that leader election implementations often MAY want to allow for the existence of multiple leaders,"},{"type":"text","text":" "},{"type":"text","text":"e.g. when a partition in the cluster occurs. This is usually beneficial to "},{"type":"emphasis","inlineContent":[{"type":"text","text":"liveness"}]}]},{"anchor":"Leadership-Change-Cluster-Event","level":3,"type":"heading","text":"Leadership Change Cluster Event"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If a new member is selected as leader, a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DistributedActors\/documentation\/DistributedActors\/Cluster\/Event"},{"type":"text","text":" carrying "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DistributedActors\/documentation\/DistributedActors\/Cluster\/LeadershipChange"},{"type":"text","text":" will be emitted."},{"type":"text","text":" "},{"type":"text","text":"Other actors may subscribe to "},{"type":"codeVoice","code":"ClusterSystem.cluster.events"},{"type":"text","text":" in order to receive and react to such changes,"},{"type":"text","text":" "},{"type":"text","text":"e.g. if an actor should only perform its duties if it is residing on the current leader node."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/distributedactors\/leaderelection"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/DistributedActors\/documentation\/DistributedActors\/Leadership\/LowestReachableMember"],"kind":"relationships","title":"Conforming Types","type":"conformingTypes"}],"identifier":{"url":"doc:\/\/DistributedActors\/documentation\/DistributedActors\/LeaderElection","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Leader election allows for determining a “leader” node among members."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"LeaderElection"}],"title":"LeaderElection","roleHeading":"Protocol","role":"symbol","symbolKind":"protocol","externalID":"s:17DistributedActors14LeaderElectionP","modules":[{"name":"DistributedActors"}],"navigatorTitle":[{"kind":"identifier","text":"LeaderElection"}]},"hierarchy":{"paths":[["doc:\/\/DistributedActors\/documentation\/DistributedActors"]]},"topicSections":[{"title":"Instance Methods","identifiers":["doc:\/\/DistributedActors\/documentation\/DistributedActors\/LeaderElection\/runElection(context:membership:)"]}],"references":{"doc://DistributedActors/documentation/DistributedActors/Cluster/LeadershipChange":{"role":"symbol","title":"Cluster.LeadershipChange","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"LeadershipChange"}],"abstract":[{"type":"text","text":"Emitted when a change in leader is decided."}],"identifier":"doc:\/\/DistributedActors\/documentation\/DistributedActors\/Cluster\/LeadershipChange","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"LeadershipChange"}],"url":"\/documentation\/distributedactors\/cluster\/leadershipchange"},"doc://DistributedActors/documentation/DistributedActors/Leadership/LowestReachableMember":{"role":"symbol","title":"Leadership.LowestReachableMember","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"LowestReachableMember"}],"abstract":[{"type":"text","text":"Simple strategy which does not require any additional coordination from members to select a leader."}],"identifier":"doc:\/\/DistributedActors\/documentation\/DistributedActors\/Leadership\/LowestReachableMember","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"LowestReachableMember"}],"url":"\/documentation\/distributedactors\/leadership\/lowestreachablemember"},"doc://DistributedActors/documentation/DistributedActors/LeaderElection/runElection(context:membership:)":{"role":"symbol","title":"runElection(context:membership:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"runElection"},{"kind":"text","text":"("},{"kind":"externalParam","text":"context"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"LeaderElectionContext","preciseIdentifier":"s:17DistributedActors21LeaderElectionContextV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"membership"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Cluster","preciseIdentifier":"s:17DistributedActors7ClusterO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Membership","preciseIdentifier":"s:17DistributedActors7ClusterO10MembershipV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"LeaderElectionResult","preciseIdentifier":"s:17DistributedActors20LeaderElectionResultV"}],"abstract":[{"type":"text","text":"Select a member to become a leader out of the existing "},{"type":"codeVoice","code":"Membership"},{"type":"text","text":"."}],"identifier":"doc:\/\/DistributedActors\/documentation\/DistributedActors\/LeaderElection\/runElection(context:membership:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/distributedactors\/leaderelection\/runelection(context:membership:)"},"doc://DistributedActors/documentation/DistributedActors/Cluster/Event":{"role":"symbol","title":"Cluster.Event","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Event"}],"abstract":[{"type":"text","text":"Represents cluster events, most notably regarding membership and reachability of other members of the cluster."}],"identifier":"doc:\/\/DistributedActors\/documentation\/DistributedActors\/Cluster\/Event","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Event"}],"url":"\/documentation\/distributedactors\/cluster\/event"},"doc://DistributedActors/documentation/DistributedActors/LeaderElection":{"role":"symbol","title":"LeaderElection","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"LeaderElection"}],"abstract":[{"type":"text","text":"Leader election allows for determining a “leader” node among members."}],"identifier":"doc:\/\/DistributedActors\/documentation\/DistributedActors\/LeaderElection","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"LeaderElection"}],"url":"\/documentation\/distributedactors\/leaderelection"},"doc://DistributedActors/documentation/DistributedActors":{"role":"collection","title":"DistributedActors","abstract":[{"type":"text","text":"A peer-to-peer cluster actor system implementation for Swift."}],"identifier":"doc:\/\/DistributedActors\/documentation\/DistributedActors","kind":"symbol","type":"topic","url":"\/documentation\/distributedactors"}}}